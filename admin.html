<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin â€“ Reservations</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    margin: 0;
    padding: 0;
}

h1 {
    text-align: center;
    margin-top: 20px;
}

#passwordScreen {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background: #111;
    color: white;
}

#passwordScreen input {
    padding: 10px;
    font-size: 16px;
    margin-top: 10px;
}

#passwordScreen button {
    margin-top: 10px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
}

#adminContent {
    display: none;
    padding: 20px;
}

table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    margin-top: 20px;
}

th, td {
    padding: 10px;
    border: 1px solid #ccc;
    text-align: center;
}

button {
    padding: 5px 10px;
    cursor: pointer;
}

.accept {
    background: green;
    color: white;
    border: none;
}

.cancel {
    background: red;
    color: white;
    border: none;
}
</style>
</head>

<body>

<!-- ðŸ” PASSWORD SCREEN -->
<div id="passwordScreen">
    <h2>Admin Access</h2>
    <input type="password" id="passwordInput" placeholder="Enter password">
    <button onclick="checkPassword()">Login</button>
    <p id="error" style="color:red;"></p>
</div>

<!-- âœ… ADMIN CONTENT -->
<div id="adminContent">
    <h1>Reservations â€“ Admin</h1>

    <table>
        <thead>
            <tr>
                <th>Client</th>
                <th>Type</th>
                <th>Dates</th>
                <th>Details</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="reservationTable"></tbody>
    </table>
</div>

<script>
/* ===============================
   PASSWORD PROTECTION
================================ */
const ADMIN_PASSWORD = "admin123"; // ðŸ”´ CHANGE THIS

function checkPassword() {
    const input = document.getElementById("passwordInput").value;
    if (input === ADMIN_PASSWORD) {
        document.getElementById("passwordScreen").style.display = "none";
        document.getElementById("adminContent").style.display = "block";
        loadReservations();
    } else {
        document.getElementById("error").textContent = "Wrong password";
    }
}

/* ===============================
   RESERVATIONS LOGIC
================================ */
function loadReservations() {
    const reservations = JSON.parse(localStorage.getItem("reservations")) || [];
    const table = document.getElementById("reservationTable");
    table.innerHTML = "";

    reservations.forEach((res, index) => {
        const row = document.createElement("tr");

        row.innerHTML = `
            <td>${res.name}</td>
            <td>${res.type}</td>
            <td>${res.days.join(", ")}</td>
            <td>${res.details || ""}</td>
            <td>
                <button class="accept" onclick="acceptReservation(${index})">Accept</button>
                <button class="cancel" onclick="cancelReservation(${index})">Cancel</button>
            </td>
        `;

        table.appendChild(row);
    });
}

function acceptReservation(index) {
    const reservations = JSON.parse(localStorage.getItem("reservations")) || [];
    reservations[index].status = "accepted";
    localStorage.setItem("reservations", JSON.stringify(reservations));
    loadReservations();
}

function cancelReservation(index) {
    const reservations = JSON.parse(localStorage.getItem("reservations")) || [];
    reservations.splice(index, 1);
    localStorage.setItem("reservations", JSON.stringify(reservations));
    loadReservations();
}
</script>

</body>
</html>
